# ccbox - Docker Compose for Claude Code
# Project: $project_name

services:
  claude:
    image: $image_name
    container_name: $container_name
    build:
      context: $build_dir
      target: claude
    stdin_open: true
    tty: true
    working_dir: /home/node/$project_name
    environment:
      - CLAUDE_CONFIG_DIR=/home/node/.claude
      - GIT_AUTHOR_NAME=$git_name
      - GIT_AUTHOR_EMAIL=$git_email
      - GIT_COMMITTER_NAME=$git_name
      - GIT_COMMITTER_EMAIL=$git_email
      - TERM=xterm-256color$extra_env
    volumes:
      - "$project_path:/home/node/$project_name"
      - "$claude_config_dir:/home/node/.claude"$extra_volumes
$network_config
